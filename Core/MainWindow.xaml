<MetroControls:MetroWindow
    x:Class="CoApp.VSE.Core.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:Options="clr-namespace:CoApp.VSE.Core.Controls.Options"
    xmlns:Controls="clr-namespace:CoApp.VSE.Core.Controls"
    xmlns:VSE="clr-namespace:CoApp.VSE.Core"
    xmlns:MetroControls="http://metro.mahapps.com/winfx/xaml/controls"
    Icon="Resources/CoApp.ico"
    Width="800"
    Height="554"
    MinWidth="800"
    MinHeight="554"
    Closing="OnClosing"
    ShowTitleBar="False"
    ResizeMode="CanResizeWithGrip"
    WindowStartupLocation="CenterScreen">
    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="pack://application:,,,/MahApps.Metro;component/Styles/Controls.Buttons.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MahApps.Metro;component/Styles/Controls.ContextMenu.xaml" />
                <ResourceDictionary Source="pack://application:,,,/MahApps.Metro;component/Styles/Controls.Tooltip.xaml" />
                <ResourceDictionary Source="Styles/Colors.xaml" />
                <ResourceDictionary Source="Styles/Controls.xaml" />
                <ResourceDictionary Source="Styles/ControlsNormal.xaml" />
            </ResourceDictionary.MergedDictionaries>
            <Style TargetType="ToolTip" BasedOn="{StaticResource MetroToolTip}" />
            <Style TargetType="Separator" BasedOn="{StaticResource MetroSeparator}" />
            <Style TargetType="ContextMenu" BasedOn="{StaticResource MetroContextMenu}" />
        </ResourceDictionary>
    </Window.Resources>

    <Window.CommandBindings>
        <CommandBinding 
            Command="{x:Static VSE:Commands.ToggleConsole}"
            Executed="ExecuteToggleConsole" />
    </Window.CommandBindings>

    <Window.InputBindings>
        <KeyBinding Command="{x:Static VSE:Commands.ToggleConsole}" Gesture="F2" />
    </Window.InputBindings>
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="27" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        <Border Grid.Row="0" Name="Header" Background="{DynamicResource GrayBrush13}" Height="27"/>
        <Controls:MainControl Grid.Row="1" x:Name="MainControl" Visibility="Visible" />
        <Options:OptionsControl Grid.Row="1" x:Name="OptionsControl" Visibility="Collapsed" />
        <Controls:VisualStudioControl Grid.Row="1" x:Name="VisualStudioControl" Visibility="Collapsed" />
        <Controls:SummaryControl Grid.Row="1" x:Name="SummaryControl" Visibility="Collapsed" />
        <Controls:ProgressControl Grid.Row="1" x:Name="ProgressControl" Visibility="Collapsed" />
    </Grid>
</MetroControls:MetroWindow>